<head>
	<meta charset="UTF-8">
	<link rel="shortcut icon" href="favicon.png?v=2">
	<link rel="stylesheet" type="text/css" href="style.css">
	<title>Tárgyválasztás</title>
	<style>*{line-height: 130%;}</style>
</head>

<!-- û õ õ -->

<style>
	div.header {
		border: 4px solid black;
		padding: 4px;
		padding-right: 8px;
		margin-right: -4px;
		background-color: azure;
	}
	img.mini{
		max-width:16px;
		max-height:16px;
		border:0px;
	}
</style>


<div class="header" style="float:left;">
	<div><a href="expqs.html">expqs</a></div>
  <hr>
	<div><img class="mini" src="Belgyogy\favicon.bmp"> <a href="Belgyogy\belgyogy.html"><strong>Belgyógyászat</strong></a></div>
	<div><img class="mini" src="Patosz\favicon.bmp"> <a href="Patosz\patosz.html"><strong>Patológia</strong></a></div>
	<div><img class="mini" src="Kortan\favicon.bmp"> <a href="Kortan\kortan.html"><strong>Kórélettan</strong></a></div>
	<div><img class="mini" src="Mikrobi\favicon.bmp"> <a href="Mikrobi\mikrobi.html"><strong>Mikrobiológia</strong></a></div>
	<div><img class="mini" src="Genetika\favicon.bmp"> <a href="Genetika\genetika.html"><strong>Genetika</strong></a></div>
	<div><img class="mini" src="Pszicho\favicon.bmp"> <a href="Pszicho\pszicho.html"><strong>Pszichológia</strong></a></div>
	<div><a href="LabMed\labmed.html"><strong>Laboratóriumi Medicina</strong></a></div>
  <hr>
	<div><a href="done\Mutettan\mutettan.html">Kísérletes és sebészeti műtéttan</a></div>
	<div><a href="done\Immunologia\immun.html">Immunológia</a></div>
	<div><a href="done\Proped\proped.html">Belgyógyászati Propedeutika</a></div>
	<div><a href="FirstAid\1staid.html">Elsősegélynyújtás</a></div>
  <hr>
	<div><img class="mini" src="targyak.bmp"> <a href="targyak.html">tárgyak</a></div>
</div>

<div class="header" style="float:left;">
	<div><img class="mini" src="done\ANAT\favicon.bmp"> <a href="done\ANAT\anat.html">Anatómia</a></div>
	<div><img class="mini" src="done\ANAT\Histology\favicon.bmp"> <a href="done\ANAT\Histology\histo.html">Szövettan</a></div>
	<div><img class="mini" src="done\ANAT\Fejlodestan\favicon.bmp"> <a href="done\ANAT\Fejlodestan\embrio.html">Fejlődéstan</a></div>
	<div><img class="mini" src="done\SejtBiosz\favicon.bmp"> <a href="done\SejtBiosz\sejtbiosz2.html">Molekuláris Sejtbiológia</a> <font style="font-size:80%"><a href="done\SejtBiosz\sejtbiosz1.html">(I)</a></font></div>
	<div><img class="mini" src="done\Elettan\favicon.bmp"> <a href="done\Elettan\elettan2.html">Élettan II</a> <font style="font-size:80%"><a href="done\Elettan\elettan1.html">(I)</a> <a href="done\Elettan\elettan1old.html">(+régi)</a></font></div>
	<div><img class="mini" src="done\BioKemia\favicon.bmp"> <a href="done\BioKemia\III\biokemia.html">Biokémia</a> <font style="font-size:80%"><a href="done\BioKemia\I\biokemiaI.html">(I)</a> <a href="done\BioKemia\II\biokemiaII.html">(II)</a> <a href="done\BioKemia\III\biokemiaIII.html">(III)</a></font></div>
<hr>
	<div><a href="done\Biologia\biosz.html">Orvosi Biológia</a></div>
	<div><a href="done\Kemia\kemia.html">Orvosi Kémia</a></div>
	<div><a href="done\BioFizika\bifiz.html">Biofizika I-II</a></div>
	<div><a href="done\FejlodesBiosz\FejlBiosz.html">Fejlődésbiológia I</a></div>
	<div><a href="done\ModMem\ModMem.html">Modellmembránok</a></div>
</div>

<div id="könyvek" class="header" style="float:left;"><center><strong>KÖNYVEK</strong></center>
  IN PROGRESS
	<div><a href="Patosz\Robbins - Patológia alapjai.pdf">patosz: Robbins</a></div>
	<div><a href="Patosz\források\defi.pdf">patosz: definíciók</a></div>
	<div><a href="Mikrobi\Mikrobiológia Ádám Éva.pdf">mikrobi: Ádám Éva</a></div>
	<div><a href="Mikrobi\Pál, Tibor - Orvosi Mikrobiológia (2013).pdf">mikrobi: Pál, Tibor</a></div>
	<div><a href="Mikrobi\Orvosi Mikrobiológia Gyakorlatok.pdf">mikrobi: Gyakorlatok</a></div>
	<div><a href="Mikrobi\tematika\AOK_KOLLOKVIUM.pdf">mikrobi: kollokvium</a></div>
	<div><a href="Proped\Belgyógyászati fizikális vizsgálat – A diagnosztika alapmódszere.pdf">proped: TK</a></div>
	<div><a href="Proped\Tulassay A belgyogyaszat alapjai I.pdf">proped: Tulassay I</a></div>
	<div><a href="Proped\Tulassay A belgyogyaszat alapjai II.pdf">proped: Tulassay II</a></div>
	<div><a href="Immun\az_immunologia_alapjai_-_2._kiadas.pdf">immun: TK</a></div>
  DONE
</div>

<!--<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>-->

<div id="tetelek" class="header" style="float:left;"><center><strong>tételek</strong></center>
	<table>
		<tr><th id="elet11">36</th>
			<td><input type="number" id="elet12" style="width:45px"></td>
			<td id="elet13"></td>
			<th id="elet14"></th>
		</tr>
		<tr><th id="elet21">84</th>
			<td><input type="number" id="elet22" style="width:45px"></td>
			<td id="elet23"></td>
			<th id="elet24"></th>
		</tr>
	</table>
	<center><font id="percentX">asd</font>%</center>
</div>


<table id="demok"><tr><th></th> <th>DEMO</th> <th>hiányzás</th></tr>
	<tr><th>patosz</th> <td>5. & <span class="MISS">10.</span></td> <td>(GY) <span class="WHITE">02.18</span></td></tr>
	<tr><th>kórtan</th> <td></td> <td>(EA) <span class="WHITE">03.27</span> <span class="WHITE">05.08</span> <br>(GY) <span class="WHITE">03.26</span></td></tr>
	<tr><th>mikrobi</th> <td>7. & 10.</td> <td>(GY)</td></tr>
	<tr><th>belgyógy</th> <td></td> <td>(GY) <span class="WHITE">03.04</span> <span class="WHITE">03.18</span></td></tr>
	<tr><th>genetika</th> <td>10.</td> <td>(GY) <span class="WHITE">03.26</span> <span class="WHITE">04.02</span> <br>(EA) <span class="WHITE">02.27</span> <span class="WHITE">03.27</span> <span class="WHITE">05.08</span></td></tr>
	<tr><th>EKG</th> <td style="background-color:black"></td> <td><span class="WHITE">03.05</span> <span class="WHITE">03.26</span></td></tr>
	<tr><th>pszicho</th> <td>3.</td> <td>(GY) <span class="WHITE">03.22</span> <span class="WHITE">03.29</span></td></tr>
</table>

<script>
	var ua = navigator.userAgent.toLowerCase();
	var isAndroid = ua.indexOf("android") > -1; //&& ua.indexOf("mobile");
	if ( isAndroid ) { 
		document.getElementById("könyvek").style.display = "none"
		document.getElementById("tetelek").style.display = "none"
		document.getElementById("demok").style.display = "none"
	}
</script>

<script>
	var howmany = 2 +1
	for (i = 1; i < howmany; i++) { document.getElementById("elet"+i+"2").value = localStorage.getItem("elettPerc"+i) }
	function calcValPerc(){
		document.getElementById("percentX").innerHTML = 1/100
		for (i = 1; i < howmany; i++) { 
			var max = document.getElementById("elet"+i+"1").innerHTML
			max = Number(max)
			var now = document.getElementById("elet"+i+"2").value
			now = Number(now)
			var perc = 100*now/max
			document.getElementById("elet"+i+"3").innerHTML = Math.round(perc) + "%"
			
			perc = 100*now* Number(document.getElementById("percentX").innerHTML) /max
			document.getElementById("percentX").innerHTML = perc
		}
		var num = Number(document.getElementById("percentX").innerHTML)
		document.getElementById("percentX").innerHTML = num.toFixed(2)
		
		for (i = 1; i < howmany; i++) { 
			document.getElementById("elet"+i+"4").innerHTML = 1/100
			for (x = 1; x < howmany; x++) { 
				var max = document.getElementById("elet"+x+"1").innerHTML
				max = Number(max)
				var now = document.getElementById("elet"+x+"2").value
				now = Number(now)
				if ( x == i ) { now = now+1 }
				
				perc = 100*now* Number(document.getElementById("elet"+i+"4").innerHTML) /max
				document.getElementById("elet"+i+"4").innerHTML = perc
			}
			var num = Number(document.getElementById("elet"+i+"4").innerHTML)
			num = num.toFixed(2)
			num = num - Number(document.getElementById("percentX").innerHTML)
			document.getElementById("elet"+i+"4").innerHTML = "+"+num.toFixed(2)+"%"
		}
	}
	calcValPerc()
	for (i = 1; i < howmany; i++) { 
		document.getElementById("elet"+i+"2").oninput = function(){ 
			calcValPerc()
			
			var id = this.id
			id = id.slice(-2)
			id = id.slice(0,1)
			localStorage.setItem("elettPerc."+id,this.value)
		} 
	}
	
	console.log()
	document.getElementById("elet12").value = localStorage.getItem("elettPerc.1")
	document.getElementById("elet22").value = localStorage.getItem("elettPerc.2")
	calcValPerc()
</script>

<script>
	function F_clearLS() {
		var input = document.createElement("input")
		input.type = "button"
		input.style.backgroundColor = "red"
		input.style.color = "white"
		input.style.fontWeight = "bold"
		input.value = "clear LS"
		document.body.appendChild(input)
		input.onclick = function(){ 
			var bgColor = input.style.backgroundColor
			input.style.backgroundColor = "aqua"
			setTimeout(localStorage.clear(), 500)
			setTimeout(function () { input.style.backgroundColor = bgColor  }, 500);
			
			localStorage.setItem("lsCount",0)
		}

		input.style.position = "absolute"
		input.style.right = "5px"
		input.style.bottom = "50px"
	}
	F_clearLS()
	function F_clearExpQs() {
		var input = document.createElement("input")
		input.type = "button"
		input.style.fontWeight = "bold"
		input.value = "clear EXP"
		document.body.appendChild(input)
		input.onclick = function(){ 
			var bgColor = input.style.backgroundColor
			input.style.backgroundColor = "aqua"
			var num = localStorage.getItem("hkExp.max")
			localStorage.removeItem("hkExp.max")
			for ( var i = 0; i < num; i++ ) {
				var txt = localStorage.getItem("hkExpQ."+i)
				localStorage.removeItem("hkExpQ."+i)
				if ( txt == null ) { continue }
				var Qid = txt.slice(0,txt.indexOf(" "))
				console.log("exp."+i+" deleted ("+Qid+")")
				localStorage.removeItem(Qid)
			}
			setTimeout(function () { input.style.backgroundColor = bgColor  }, 500);
		}

		input.style.position = "absolute"
		input.style.right = "5px"
		input.style.bottom = "100px"
	}
	F_clearExpQs()
	function F_InputLoad() {
		var input = document.createElement("input")
		input.type = "button"
		input.value = "load LS"
		document.body.appendChild(input)
		input.onclick = function(){ 
			var bgColor = input.style.backgroundColor
			input.style.backgroundColor = "aqua"
			setTimeout(document.getElementById('fileinput').click(), 500)
			setTimeout(function () { input.style.backgroundColor = bgColor }, 500);
		}

		input.style.position = "absolute"
		input.style.right = "5px"
		input.style.top = "10px"
	}
	F_InputLoad()
	function F_InputOpen() {
		var input = document.createElement("input")
		input.type = "button"
		input.id = "btn_openLS"
		input.value = "Open LS"
		document.body.appendChild(input)
		//input.onmousedown = function(){ this.style.backgroundColor  = "green" }
		input.onclick = function(){ 
			this.style.backgroundColor  = "black"
			this.style.color = "white"
			setTimeout(function () {F_openLS() }, 500) 
		}

		input.style.position = "absolute"
		input.style.right = "5px"
		input.style.top = "50px"
	}
	F_InputOpen()
	function F_InputSave() {
		var input = document.createElement("input")
		input.type = "button"
		input.id = "btn_saveLS"
		input.style.backgroundColor = "Chartreuse"
		input.style.fontWeight = "bold"
		input.value = "Save LS"
		document.body.appendChild(input)
		//input.onmousedown = function(){ this.style.backgroundColor  = "green" }
		input.onclick = function(){ 
			this.style.backgroundColor  = "green"
			setTimeout(function () {func_saveLS() }, 500) 
		}

		input.style.position = "absolute"
		input.style.right = "5px"
		input.style.top = "90px"
	}
	F_InputSave()
	function F_fileinput() {
		var input = document.createElement("input")
		input.type = "file"
		input.id = "fileinput"
		document.body.appendChild(input)
		input.style.display = "none"
	}
	F_fileinput()
	
	// SAVE LS
	var downA = document.createElement('a');
	function download(filename, text) { // (netről copyztam) --> (azért kellett, mert androidon máshogy nemtudom lementeni)
		/*var element = document.createElement('a');
		element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
		element.setAttribute('download', filename);
		element.appendChild(document.createTextNode("Save file"));
	  
		element.style.display = 'none';
		document.body.appendChild(element);
		element.click();
		document.body.removeChild(element);
		*/

		downA.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
		downA.setAttribute('download', filename);
		if (document.createEvent) {
			var event = document.createEvent('MouseEvents');
			event.initEvent('click', true, true);
			downA.dispatchEvent(event);
		} else {
			downA.click();
		}
		
		/*alert(text.length) // ha crashel androidon, akkor ezzel megtudom oldani (túl sok a karakter)
		var num = text.length / 100000
		num = Math.ceil(num)
		for ( var i=0; i<num; i++ ) {
			var acText = text.slice(0,100000)
			text = text.slice(100000)
			downA.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(acText));
			downA.setAttribute('download', filename+"_"+i);

			if (document.createEvent) {
				var event = document.createEvent('MouseEvents');
				event.initEvent('click', true, true);
				downA.dispatchEvent(event);
			} else {
				downA.click();
			}
		}*/
	}
	function func_saveLS() {
		var text = ""
		
		var count = localStorage.getItem("lsCount")
		count = Number(count) +1
		localStorage.setItem("lsCount",count)
		
		var lsLength = localStorage.length
		var expQk = []
		for ( var i=0; i<lsLength; i++ ) {
			if ( localStorage.key(i).indexOf("hkExpQ.") != -1 ) {
				var qID = localStorage.getItem(localStorage.key(i))
				qID = qID.slice(0,qID.indexOf(" "))
				expQk[qID] = true
			}
		}
		for ( var i=0; i<lsLength; i++ ) {
			//if ( localStorage.key(i).indexOf("hkExpQ.") != -1 ) { continue }
			if ( localStorage.key(i) == "loadQs.lastTime" ) { continue }
			if ( expQk[localStorage.key(i)] == true ) { continue }
			text = text + localStorage.key(i) + " = " + localStorage.getItem(localStorage.key(i)) + " NEXTONE \n"
		}
		var filename = 'localStorage'+count+'.txt'

		download(filename, text);
		
		document.getElementById("btn_saveLS").style.backgroundColor = "Chartreuse"
		document.getElementById("btn_saveLS").style.color = ""
	}
	//JSON.stringify(localStorage)
	
	// LOAD LS
	function F_openLS() {
		var text = ""
		
		var lsLength = localStorage.length
		for ( var i=0; i<lsLength; i++ ) { 
			text = text + localStorage.key(i) + " = " + localStorage.getItem(localStorage.key(i)) + " NEXTONE \n"
		}
		
		var wnd = window.open("about:blank", "", "_blank");
		wnd.document.write(text);
		
		document.getElementById("btn_openLS").style.backgroundColor = ""
		document.getElementById("btn_openLS").style.color = ""
	}
	function func_loadLS(content) {
		do {
			var phaseText = content.slice(0,content.indexOf(" NEXTONE \n"));
			content = content.slice(content.indexOf(" NEXTONE ") +10)
			var variable = phaseText.slice(0,phaseText.indexOf(" = "));
			var price = phaseText.slice(phaseText.indexOf(" = ") +3);
			localStorage.setItem(variable, price)
		}
		while (phaseText.length > 1);
	}
	var fileInput = document.getElementById('fileinput');
	fileInput.addEventListener('change', function(e){
		var file = fileInput.files[0];
		var textType = /text.*/;
		var content

		if (file.type.match(textType)) {
			var reader = new FileReader();

			reader.onload = function(e) {
				content = reader.result
				func_loadLS(content)
			}

			reader.readAsText(file);    
		} else {
			alert("File not supported!")
		}
	});
	
	// set SkipTime
	function F_skipTime() {
		var input = document.createElement("input")
		//input.id = "skipHour"
		input.type = "number"
		input.style.width = "50px"
		document.body.appendChild(input)
		input.style.position = "absolute"
		input.style.right = "5px"
		input.style.bottom = "50%"
		var date = new Date();
		var remain = Math.floor(date.getTime()/3600000)
		remain = localStorage.getItem("vizsgaSkip") - remain
		if ( remain < 0 ) { remain = 0 }
		input.value = remain
		
		input.oninput = function(){ 
			var date = new Date();
			var time = Math.floor(date.getTime()/3600000)
			time = time + Number(this.value)
			localStorage.setItem("vizsgaSkip",time)
		}
		/*
		var input = document.createElement("input")
		input.type = "button"
		input.value = "skip"
		document.body.appendChild(input)
		input.onclick = function(){ 
			var date = new Date();
			var time = Math.floor(date.getTime()/3600000)
			time = time + Number(skipHour.value)
			localStorage.setItem("vizsgaSkip",time)
		}
		input.style.position = "absolute"
		input.style.right = "55px"
		input.style.bottom = "50%"
		*/
	}
	F_skipTime()
</script>

<!--
<script>setTimeout(function(){window.location.href='../../targyvalasztas.html'},5000);</script>
-->

































